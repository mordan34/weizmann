---
- hosts: localhost
  vars:
        nios_provider:
            host: ipam.weizmann.ac.il
            username: mordan
            password: mordan123

  connection: local
  tasks:
    - name: fetch host iblvctest01
      set_fact:
         host: "{{ lookup('nios', 'record:a', filter={'name': 'iblvctest01.weizmann.ac.il'}, provider=nios_provider) }}"

    - name: check the iblvctest01 return variable
      debug:
        msg: "{{ host }}"

    - name: debug specific variable (ipv4 address)
      debug:
        msg: "{{ host.ipv4addrs[0].ipv4addr }}"
